FIND_PACKAGE(Boost 1.35.0 REQUIRED COMPONENTS unit_test_framework)

IF (Boost_FOUND AND Boost_UNIT_TEST_FRAMEWORK_FOUND AND TokyoCabinet_FOUND)
  INCLUDE_DIRECTORIES(${Boost_INCLUDE_DIRS})
  INCLUDE_DIRECTORIES(${TokyoCabinet_INCLUDE_DIRS})

  SET(t_tc_SRC
    Runner.cpp
    String.cpp
    )
  ADD_EXECUTABLE(t_tc ${t_tc_SRC})
  TARGET_LINK_LIBRARIES(t_tc
    ${Boost_UNIT_TEST_FRAMEWORK_LIBRARY}
    ${TokyoCabinet_LIBRARIES}
    )

  SET_TARGET_PROPERTIES(t_tc PROPERTIES
    COMPILE_FLAGS "-include ${FileTestHelper}"
    RUNTIME_OUTPUT_DIRECTORY ${CMAKE_SOURCE_DIR}/testbin
    )

  ADD_TEST(tc ${CMAKE_SOURCE_DIR}/testbin/t_tc)
ENDIF (Boost_FOUND AND Boost_UNIT_TEST_FRAMEWORK_FOUND AND TokyoCabinet_FOUND)

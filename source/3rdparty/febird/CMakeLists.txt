PROJECT(febird)

file(GLOB_RECURSE FEBIRD_SOURCE "io/*.cpp")

find_package (BZip2 REQUIRED)

include_directories ( 
		${izenelib_SOURCE_DIR}/include/3rdparty/febird/io
		${BOOST_INCLUDE_DIR}
		${BZIP2_INCLUDE_DIR}
		)
# This section build the libraries
set(CPP "${FEBIRD_SOURCE}")
set( CXXFLAGS "-Wall -O3" )

set ( LIBRARY_OUTPUT_PATH ${izenelib_SOURCE_DIR}/lib ) 

ADD_LIBRARY(febird_shared SHARED ${CPP})
SET_TARGET_PROPERTIES(febird_shared 
				PROPERTIES 
				OUTPUT_NAME "febird" 
				COMPILE_FLAGS ${CXXFLAGS} 
#COMPILE_DEFINITIONS_DEBUG "-g" 
				)
TARGET_LINK_LIBRARIES(febird_shared ${BZIP2_LIBRARIES} ${BOOST_LIBRARIES})

SET_TARGET_PROPERTIES(febird_shared PROPERTIES CLEAN_DIRECT_OUTPUT 1)

ADD_LIBRARY(febird_static STATIC ${CPP})
SET_TARGET_PROPERTIES(febird_static 
				PROPERTIES 
				OUTPUT_NAME "febird" 
				COMPILE_FLAGS ${CXXFLAGS} 
#COMPILE_DEFINITIONS_DEBUG "-g" 
				)
SET_TARGET_PROPERTIES(febird_static PROPERTIES CLEAN_DIRECT_OUTPUT 1)
TARGET_LINK_LIBRARIES(febird_static ${BZIP2_LIBRARIES} ${BOOST_LIBRARIES})



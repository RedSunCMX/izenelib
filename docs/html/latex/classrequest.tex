\hypertarget{classrequest}{
\section{request Class Reference}
\label{classrequest}\index{request@{request}}
}
Defines interface of \hyperlink{classrequest}{request}.  


{\tt \#include $<$iobase.h$>$}

Inheritance diagram for request::\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2cm]{classrequest}
\end{center}
\end{figure}
\subsection*{Public Types}
\begin{CompactItemize}
\item 
enum \textbf{request\_\-type} \{ \textbf{READ}, 
\textbf{WRITE}
 \}
\end{CompactItemize}
\subsection*{Public Member Functions}
\begin{CompactItemize}
\item 
\hypertarget{group__iolayer_g31f7e409bd2e9ade994975b3752f33d1}{
\textbf{request} (\hyperlink{classcompletion__handler}{completion\_\-handler} on\_\-compl, \hyperlink{classfile}{file} $\ast$file\_\-\_\-, void $\ast$buffer\_\-, int64\_\-t offset\_\-, size\_\-t bytes\_\-, request\_\-type type\_\-)}
\label{group__iolayer_g31f7e409bd2e9ade994975b3752f33d1}

\item 
\hypertarget{group__iolayer_g2cdb5763d21b553ae816eb4152e5d89b}{
virtual void \hyperlink{group__iolayer_g2cdb5763d21b553ae816eb4152e5d89b}{wait} ()=0}
\label{group__iolayer_g2cdb5763d21b553ae816eb4152e5d89b}

\begin{CompactList}\small\item\em Suspends calling thread until completion of the \hyperlink{classrequest}{request}. \item\end{CompactList}\item 
virtual bool \hyperlink{group__iolayer_ge93809a6f19558a9f0f98f50cd69aa2f}{poll} ()=0
\begin{CompactList}\small\item\em Polls the status of the \hyperlink{classrequest}{request}. \item\end{CompactList}\item 
\hypertarget{group__iolayer_g1791fb9aa3161faec8b1660e01525e26}{
\hyperlink{classfile}{file} $\ast$ \textbf{get\_\-file} () const }
\label{group__iolayer_g1791fb9aa3161faec8b1660e01525e26}

\item 
\hypertarget{group__iolayer_gbc0add4ffc5e7c696ed4067cf630d935}{
void $\ast$ \textbf{get\_\-buffer} () const }
\label{group__iolayer_gbc0add4ffc5e7c696ed4067cf630d935}

\item 
\hypertarget{group__iolayer_gd8cb0dcaea77815e50f9d9f55b84db27}{
int64\_\-t \textbf{get\_\-offset} () const }
\label{group__iolayer_gd8cb0dcaea77815e50f9d9f55b84db27}

\item 
\hypertarget{group__iolayer_ge19716d99090239ece78660b0c7d567f}{
size\_\-t \textbf{get\_\-size} () const }
\label{group__iolayer_ge19716d99090239ece78660b0c7d567f}

\item 
\hypertarget{group__iolayer_g9bc852dd0ab2900911465f6a8e03ca6e}{
size\_\-t \textbf{size} () const }
\label{group__iolayer_g9bc852dd0ab2900911465f6a8e03ca6e}

\item 
\hypertarget{group__iolayer_gca7a3651bcfab4842a426399756b47e1}{
request\_\-type \textbf{get\_\-type} () const }
\label{group__iolayer_gca7a3651bcfab4842a426399756b47e1}

\item 
\hypertarget{group__iolayer_gbc1ade28e4e71c83eb166af89898350c}{
virtual std::ostream \& \textbf{print} (std::ostream \&out) const }
\label{group__iolayer_gbc1ade28e4e71c83eb166af89898350c}

\item 
\hypertarget{group__iolayer_gf946fd2411a5b613d195bc46c914facc}{
void \hyperlink{group__iolayer_gf946fd2411a5b613d195bc46c914facc}{error\_\-occured} (const char $\ast$msg)}
\label{group__iolayer_gf946fd2411a5b613d195bc46c914facc}

\begin{CompactList}\small\item\em Inform the \hyperlink{classrequest}{request} object that an error occurred during the I/O execution. \item\end{CompactList}\item 
\hypertarget{group__iolayer_g8bfe152a78eb167f7a07f573614c07b6}{
void \hyperlink{group__iolayer_g8bfe152a78eb167f7a07f573614c07b6}{error\_\-occured} (const std::string \&msg)}
\label{group__iolayer_g8bfe152a78eb167f7a07f573614c07b6}

\begin{CompactList}\small\item\em Inform the \hyperlink{classrequest}{request} object that an error occurred during the I/O execution. \item\end{CompactList}\item 
\hypertarget{group__iolayer_g32dc55876ffe5160f8c037b3c6eaf126}{
void \hyperlink{group__iolayer_g32dc55876ffe5160f8c037b3c6eaf126}{check\_\-errors} ()  throw (std::ios\_\-base::failure)}
\label{group__iolayer_g32dc55876ffe5160f8c037b3c6eaf126}

\begin{CompactList}\small\item\em Rises an exception if there were error with the I/O. \item\end{CompactList}\end{CompactItemize}
\subsection*{Protected Member Functions}
\begin{CompactItemize}
\item 
\hypertarget{group__iolayer_g2f72232aa958b26b36b04c2ade02b1d6}{
virtual bool \textbf{add\_\-waiter} (onoff\_\-switch $\ast$sw)=0}
\label{group__iolayer_g2f72232aa958b26b36b04c2ade02b1d6}

\item 
\hypertarget{group__iolayer_g30252a01456b49135c054dde2b8e8c6d}{
virtual void \textbf{delete\_\-waiter} (onoff\_\-switch $\ast$sw)=0}
\label{group__iolayer_g30252a01456b49135c054dde2b8e8c6d}

\item 
\hypertarget{group__iolayer_g47a70e642437bd2a3cdcb2f64e269fcb}{
virtual void \textbf{serve} ()=0}
\label{group__iolayer_g47a70e642437bd2a3cdcb2f64e269fcb}

\item 
\hypertarget{group__iolayer_gdae52da05a69bea331d1161156159b06}{
void \textbf{completed} ()}
\label{group__iolayer_gdae52da05a69bea331d1161156159b06}

\item 
\hypertarget{group__iolayer_g11bad6558be8c299ed7c14f0ed9e62d2}{
int \textbf{nref} ()}
\label{group__iolayer_g11bad6558be8c299ed7c14f0ed9e62d2}

\end{CompactItemize}
\subsection*{Protected Attributes}
\begin{CompactItemize}
\item 
\hypertarget{group__iolayer_g2d9258e3443b499e4c641c2843bdc7a1}{
\hyperlink{classcompletion__handler}{completion\_\-handler} \textbf{on\_\-complete}}
\label{group__iolayer_g2d9258e3443b499e4c641c2843bdc7a1}

\item 
\hypertarget{group__iolayer_gbc00c1450db214bd32b3936d95730401}{
int \textbf{ref\_\-cnt}}
\label{group__iolayer_gbc00c1450db214bd32b3936d95730401}

\item 
\hypertarget{group__iolayer_g8f916a380f56a5017fdb196f76feaf31}{
std::auto\_\-ptr$<$ std::ios\_\-base::failure $>$ \textbf{error}}
\label{group__iolayer_g8f916a380f56a5017fdb196f76feaf31}

\item 
\hypertarget{group__iolayer_g341cdc5f009668b88edc9415720c6bc0}{
boost::mutex \textbf{ref\_\-cnt\_\-mutex}}
\label{group__iolayer_g341cdc5f009668b88edc9415720c6bc0}

\item 
\hypertarget{group__iolayer_gf25e69a9ec49b9aeb592ff28b9a1697e}{
\hyperlink{classfile}{file} $\ast$ \textbf{file\_\-}}
\label{group__iolayer_gf25e69a9ec49b9aeb592ff28b9a1697e}

\item 
\hypertarget{group__iolayer_g073eb2eba36110cc4362765aba803cdd}{
void $\ast$ \textbf{buffer}}
\label{group__iolayer_g073eb2eba36110cc4362765aba803cdd}

\item 
\hypertarget{group__iolayer_gbfc7b5f60fb16d3551e21fbba49d75dc}{
int64\_\-t \textbf{offset}}
\label{group__iolayer_gbfc7b5f60fb16d3551e21fbba49d75dc}

\item 
\hypertarget{group__iolayer_gffe23f8f72bfd5e016c3c7125740f96b}{
size\_\-t \textbf{bytes}}
\label{group__iolayer_gffe23f8f72bfd5e016c3c7125740f96b}

\item 
\hypertarget{group__iolayer_gcc85c654247d6d16afb0b1d63a7d3c8e}{
request\_\-type \textbf{type}}
\label{group__iolayer_gcc85c654247d6d16afb0b1d63a7d3c8e}

\end{CompactItemize}
\subsection*{Friends}
\begin{CompactItemize}
\item 
\hypertarget{group__iolayer_g686a90482e62dd1618201a3c79f9aae6}{
class \hyperlink{group__iolayer_g686a90482e62dd1618201a3c79f9aae6}{file}}
\label{group__iolayer_g686a90482e62dd1618201a3c79f9aae6}

\item 
\hypertarget{group__iolayer_g04639cad0832bf1448ee1bb4976a05c9}{
class \textbf{disk\_\-queue}}
\label{group__iolayer_g04639cad0832bf1448ee1bb4976a05c9}

\item 
\hypertarget{group__iolayer_g41c8636643792c137da130157a9ca431}{
class \hyperlink{group__iolayer_g41c8636643792c137da130157a9ca431}{request\_\-ptr}}
\label{group__iolayer_g41c8636643792c137da130157a9ca431}

\item 
int \hyperlink{classrequest_7a455713cd840b099075368af3f30ff5}{wait\_\-any} (\hyperlink{classrequest__ptr}{request\_\-ptr} req\_\-array\mbox{[}$\,$\mbox{]}, int count)
\begin{CompactList}\small\item\em Collection of functions to track statuses of a number of requests. \item\end{CompactList}\item 
\hypertarget{group__iolayer_g2bfbfc0bc801311fd2933969ca786fef}{
{\footnotesize template$<$class request\_\-iterator\_\- $>$ }\\request\_\-iterator\_\- \textbf{wait\_\-any} (request\_\-iterator\_\- reqs\_\-begin, request\_\-iterator\_\- reqs\_\-end)}
\label{group__iolayer_g2bfbfc0bc801311fd2933969ca786fef}

\end{CompactItemize}


\subsection{Detailed Description}
Defines interface of \hyperlink{classrequest}{request}. 

Since all library I/O operations are asynchronous, one needs to keep track of their status: whether an I/O completed or not. 

Definition at line 179 of file iobase.h.

\subsection{Friends And Related Function Documentation}
\hypertarget{classrequest_7a455713cd840b099075368af3f30ff5}{
\index{request@{request}!wait\_\-any@{wait\_\-any}}
\index{wait\_\-any@{wait\_\-any}!request@{request}}
\subsubsection[{wait\_\-any}]{\setlength{\rightskip}{0pt plus 5cm}int wait\_\-any ({\bf request\_\-ptr} {\em req\_\-array}\mbox{[}$\,$\mbox{]}, \/  int {\em count})\hspace{0.3cm}{\tt  \mbox{[}friend\mbox{]}}}}
\label{classrequest_7a455713cd840b099075368af3f30ff5}


Collection of functions to track statuses of a number of requests. 

Suspends calling thread until {\bf any} of requests is completed \begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em req\_\-array}]array of {\tt \hyperlink{classrequest__ptr}{request\_\-ptr}} objects \item[{\em count}]size of req\_\-array \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]index in req\_\-array pointing to the {\bf first} completed \hyperlink{classrequest}{request} \end{Desc}


The documentation for this class was generated from the following file:\begin{CompactItemize}
\item 
/home/Kevin/izenelib/include/am/blockmanager/iobase.h\end{CompactItemize}

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>iZENElib - A great library for text processing: request Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>request Class Reference<br>
<small>
[<a class="el" href="group__iolayer.html">I/O primitives layer</a>]</small>
</h1><!-- doxytag: class="request" -->Defines interface of <a class="el" href="classrequest.html" title="Defines interface of request.">request</a>.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="iobase_8h-source.html">iobase.h</a>&gt;</code>
<p>
<div class="dynheader">
Inheritance diagram for request:</div>
<div class="dynsection">

<p><center><img src="classrequest.png" usemap="#request_map" border="0" alt=""></center>
<map name="request_map">
<area href="classboostfd__request.html" alt="boostfd_request" shape="rect" coords="0,56,101,80">
</map>
</div>

<p>
<a href="classrequest-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Types</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><b>request_type</b> { <b>READ</b>, 
<b>WRITE</b>
 }</td></tr>

<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g31f7e409bd2e9ade994975b3752f33d1"></a><!-- doxytag: member="request::request" ref="g31f7e409bd2e9ade994975b3752f33d1" args="(completion_handler on_compl, file *file__, void *buffer_, int64_t offset_, size_t bytes_, request_type type_)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>request</b> (<a class="el" href="classcompletion__handler.html">completion_handler</a> on_compl, <a class="el" href="classfile.html">file</a> *file__, void *buffer_, int64_t offset_, size_t bytes_, request_type type_)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g2cdb5763d21b553ae816eb4152e5d89b"></a><!-- doxytag: member="request::wait" ref="g2cdb5763d21b553ae816eb4152e5d89b" args="()=0" -->
virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__iolayer.html#g2cdb5763d21b553ae816eb4152e5d89b">wait</a> ()=0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Suspends calling thread until completion of the <a class="el" href="classrequest.html" title="Defines interface of request.">request</a>. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__iolayer.html#ge93809a6f19558a9f0f98f50cd69aa2f">poll</a> ()=0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Polls the status of the <a class="el" href="classrequest.html" title="Defines interface of request.">request</a>.  <a href="group__iolayer.html#ge93809a6f19558a9f0f98f50cd69aa2f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g1791fb9aa3161faec8b1660e01525e26"></a><!-- doxytag: member="request::get_file" ref="g1791fb9aa3161faec8b1660e01525e26" args="() const " -->
<a class="el" href="classfile.html">file</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><b>get_file</b> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="gbc0add4ffc5e7c696ed4067cf630d935"></a><!-- doxytag: member="request::get_buffer" ref="gbc0add4ffc5e7c696ed4067cf630d935" args="() const " -->
void *&nbsp;</td><td class="memItemRight" valign="bottom"><b>get_buffer</b> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="gd8cb0dcaea77815e50f9d9f55b84db27"></a><!-- doxytag: member="request::get_offset" ref="gd8cb0dcaea77815e50f9d9f55b84db27" args="() const " -->
int64_t&nbsp;</td><td class="memItemRight" valign="bottom"><b>get_offset</b> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ge19716d99090239ece78660b0c7d567f"></a><!-- doxytag: member="request::get_size" ref="ge19716d99090239ece78660b0c7d567f" args="() const " -->
size_t&nbsp;</td><td class="memItemRight" valign="bottom"><b>get_size</b> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g9bc852dd0ab2900911465f6a8e03ca6e"></a><!-- doxytag: member="request::size" ref="g9bc852dd0ab2900911465f6a8e03ca6e" args="() const " -->
size_t&nbsp;</td><td class="memItemRight" valign="bottom"><b>size</b> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="gca7a3651bcfab4842a426399756b47e1"></a><!-- doxytag: member="request::get_type" ref="gca7a3651bcfab4842a426399756b47e1" args="() const " -->
request_type&nbsp;</td><td class="memItemRight" valign="bottom"><b>get_type</b> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="gbc1ade28e4e71c83eb166af89898350c"></a><!-- doxytag: member="request::print" ref="gbc1ade28e4e71c83eb166af89898350c" args="(std::ostream &amp;out) const " -->
virtual std::ostream &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><b>print</b> (std::ostream &amp;out) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="gf946fd2411a5b613d195bc46c914facc"></a><!-- doxytag: member="request::error_occured" ref="gf946fd2411a5b613d195bc46c914facc" args="(const char *msg)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__iolayer.html#gf946fd2411a5b613d195bc46c914facc">error_occured</a> (const char *msg)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Inform the <a class="el" href="classrequest.html" title="Defines interface of request.">request</a> object that an error occurred during the I/O execution. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g8bfe152a78eb167f7a07f573614c07b6"></a><!-- doxytag: member="request::error_occured" ref="g8bfe152a78eb167f7a07f573614c07b6" args="(const std::string &amp;msg)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__iolayer.html#g8bfe152a78eb167f7a07f573614c07b6">error_occured</a> (const std::string &amp;msg)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Inform the <a class="el" href="classrequest.html" title="Defines interface of request.">request</a> object that an error occurred during the I/O execution. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g32dc55876ffe5160f8c037b3c6eaf126"></a><!-- doxytag: member="request::check_errors" ref="g32dc55876ffe5160f8c037b3c6eaf126" args="()" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__iolayer.html#g32dc55876ffe5160f8c037b3c6eaf126">check_errors</a> ()  throw (std::ios_base::failure)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Rises an exception if there were error with the I/O. <br></td></tr>
<tr><td colspan="2"><br><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g2f72232aa958b26b36b04c2ade02b1d6"></a><!-- doxytag: member="request::add_waiter" ref="g2f72232aa958b26b36b04c2ade02b1d6" args="(onoff_switch *sw)=0" -->
virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>add_waiter</b> (onoff_switch *sw)=0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g30252a01456b49135c054dde2b8e8c6d"></a><!-- doxytag: member="request::delete_waiter" ref="g30252a01456b49135c054dde2b8e8c6d" args="(onoff_switch *sw)=0" -->
virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><b>delete_waiter</b> (onoff_switch *sw)=0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g47a70e642437bd2a3cdcb2f64e269fcb"></a><!-- doxytag: member="request::serve" ref="g47a70e642437bd2a3cdcb2f64e269fcb" args="()=0" -->
virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><b>serve</b> ()=0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="gdae52da05a69bea331d1161156159b06"></a><!-- doxytag: member="request::completed" ref="gdae52da05a69bea331d1161156159b06" args="()" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>completed</b> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g11bad6558be8c299ed7c14f0ed9e62d2"></a><!-- doxytag: member="request::nref" ref="g11bad6558be8c299ed7c14f0ed9e62d2" args="()" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>nref</b> ()</td></tr>

<tr><td colspan="2"><br><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g2d9258e3443b499e4c641c2843bdc7a1"></a><!-- doxytag: member="request::on_complete" ref="g2d9258e3443b499e4c641c2843bdc7a1" args="" -->
<a class="el" href="classcompletion__handler.html">completion_handler</a>&nbsp;</td><td class="memItemRight" valign="bottom"><b>on_complete</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="gbc00c1450db214bd32b3936d95730401"></a><!-- doxytag: member="request::ref_cnt" ref="gbc00c1450db214bd32b3936d95730401" args="" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>ref_cnt</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g8f916a380f56a5017fdb196f76feaf31"></a><!-- doxytag: member="request::error" ref="g8f916a380f56a5017fdb196f76feaf31" args="" -->
std::auto_ptr<br class="typebreak">
&lt; std::ios_base::failure &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><b>error</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g341cdc5f009668b88edc9415720c6bc0"></a><!-- doxytag: member="request::ref_cnt_mutex" ref="g341cdc5f009668b88edc9415720c6bc0" args="" -->
boost::mutex&nbsp;</td><td class="memItemRight" valign="bottom"><b>ref_cnt_mutex</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="gf25e69a9ec49b9aeb592ff28b9a1697e"></a><!-- doxytag: member="request::file_" ref="gf25e69a9ec49b9aeb592ff28b9a1697e" args="" -->
<a class="el" href="classfile.html">file</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><b>file_</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g073eb2eba36110cc4362765aba803cdd"></a><!-- doxytag: member="request::buffer" ref="g073eb2eba36110cc4362765aba803cdd" args="" -->
void *&nbsp;</td><td class="memItemRight" valign="bottom"><b>buffer</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="gbfc7b5f60fb16d3551e21fbba49d75dc"></a><!-- doxytag: member="request::offset" ref="gbfc7b5f60fb16d3551e21fbba49d75dc" args="" -->
int64_t&nbsp;</td><td class="memItemRight" valign="bottom"><b>offset</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="gffe23f8f72bfd5e016c3c7125740f96b"></a><!-- doxytag: member="request::bytes" ref="gffe23f8f72bfd5e016c3c7125740f96b" args="" -->
size_t&nbsp;</td><td class="memItemRight" valign="bottom"><b>bytes</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="gcc85c654247d6d16afb0b1d63a7d3c8e"></a><!-- doxytag: member="request::type" ref="gcc85c654247d6d16afb0b1d63a7d3c8e" args="" -->
request_type&nbsp;</td><td class="memItemRight" valign="bottom"><b>type</b></td></tr>

<tr><td colspan="2"><br><h2>Friends</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g686a90482e62dd1618201a3c79f9aae6"></a><!-- doxytag: member="request::file" ref="g686a90482e62dd1618201a3c79f9aae6" args="" -->
class&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__iolayer.html#g686a90482e62dd1618201a3c79f9aae6">file</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g04639cad0832bf1448ee1bb4976a05c9"></a><!-- doxytag: member="request::disk_queue" ref="g04639cad0832bf1448ee1bb4976a05c9" args="" -->
class&nbsp;</td><td class="memItemRight" valign="bottom"><b>disk_queue</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g41c8636643792c137da130157a9ca431"></a><!-- doxytag: member="request::request_ptr" ref="g41c8636643792c137da130157a9ca431" args="" -->
class&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__iolayer.html#g41c8636643792c137da130157a9ca431">request_ptr</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrequest.html#7a455713cd840b099075368af3f30ff5">wait_any</a> (<a class="el" href="classrequest__ptr.html">request_ptr</a> req_array[], int count)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Collection of functions to track statuses of a number of requests.  <a href="#7a455713cd840b099075368af3f30ff5"></a><br></td></tr>
<tr><td class="memTemplParams" nowrap colspan="2"><a class="anchor" name="g2bfbfc0bc801311fd2933969ca786fef"></a><!-- doxytag: member="request::wait_any" ref="g2bfbfc0bc801311fd2933969ca786fef" args="(request_iterator_ reqs_begin, request_iterator_ reqs_end)" -->
template&lt;class request_iterator_ &gt; </td></tr>
<tr><td class="memTemplItemLeft" nowrap align="right" valign="top">request_iterator_&nbsp;</td><td class="memTemplItemRight" valign="bottom"><b>wait_any</b> (request_iterator_ reqs_begin, request_iterator_ reqs_end)</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Defines interface of <a class="el" href="classrequest.html" title="Defines interface of request.">request</a>. 
<p>
Since all library I/O operations are asynchronous, one needs to keep track of their status: whether an I/O completed or not. 
<p>Definition at line <a class="el" href="iobase_8h-source.html#l00179">179</a> of file <a class="el" href="iobase_8h-source.html">iobase.h</a>.</p>
<hr><h2>Friends And Related Function Documentation</h2>
<a class="anchor" name="7a455713cd840b099075368af3f30ff5"></a><!-- doxytag: member="request::wait_any" ref="7a455713cd840b099075368af3f30ff5" args="(request_ptr req_array[], int count)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int wait_any           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classrequest__ptr.html">request_ptr</a>&nbsp;</td>
          <td class="paramname"> <em>req_array</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>count</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [friend]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Collection of functions to track statuses of a number of requests. 
<p>
Suspends calling thread until <b>any</b> of requests is completed <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>req_array</em>&nbsp;</td><td>array of <code><a class="el" href="classrequest__ptr.html" title="A smart wrapper for request pointer.">request_ptr</a></code> objects </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>count</em>&nbsp;</td><td>size of req_array </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>index in req_array pointing to the <b>first</b> completed <a class="el" href="classrequest.html" title="Defines interface of request.">request</a> </dd></dl>

</div>
</div><p>
<hr>The documentation for this class was generated from the following file:<ul>
<li>/home/Kevin/izenelib/include/am/blockmanager/<a class="el" href="iobase_8h-source.html">iobase.h</a></ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Thu Jun 11 14:12:35 2009 for iZENElib - A great library for text processing by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.7.1 </small></address>
</body>
</html>

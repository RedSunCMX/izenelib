<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>iZENElib - A great library for text processing: BTreeFile&lt; KeyType, ValueType, LockType, Alloc &gt; Class Template Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>BTreeFile&lt; KeyType, ValueType, LockType, Alloc &gt; Class Template Reference</h1><!-- doxytag: class="BTreeFile" --><!-- doxytag: inherits="AccessMethod" --><a class="el" href="classfile.html" title="Defines interface of file.">file</a> version of B tree.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="BTreeFile_8h-source.html">BTreeFile.h</a>&gt;</code>
<p>
<div class="dynheader">
Inheritance diagram for BTreeFile&lt; KeyType, ValueType, LockType, Alloc &gt;:</div>
<div class="dynsection">

<p><center><img src="classBTreeFile.png" usemap="#BTreeFile< KeyType, ValueType, LockType, Alloc >_map" border="0" alt=""></center>
<map name="BTreeFile< KeyType, ValueType, LockType, Alloc >_map">
</map>
</div>

<p>
<a href="classBTreeFile-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><b>SFileHeader</b></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">it provides the basical information of the btree. <br></td></tr>
<tr><td colspan="2"><br><h2>Public Types</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="134b19172aabde32c62243dbdc152a56"></a><!-- doxytag: member="BTreeFile::DataType" ref="134b19172aabde32c62243dbdc152a56" args="" -->
typedef DataType&lt; KeyType, <br class="typebreak">
ValueType &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><b>DataType</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="4e78d31a7e1d1ef621448d762c6d693a"></a><!-- doxytag: member="BTreeFile::BTreeNodePtr" ref="4e78d31a7e1d1ef621448d762c6d693a" args="" -->
typedef intrusive_ptr<br class="typebreak">
&lt; BTreeNode&lt; KeyType, DataType, <br class="typebreak">
LockType, Alloc &gt; &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><b>BTreeNodePtr</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="73a488e58ea39521604de5a3df286716"></a><!-- doxytag: member="BTreeFile::BTreeNodeVECTOR" ref="73a488e58ea39521604de5a3df286716" args="" -->
typedef std::vector&lt; BTreeNodePtr &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><b>BTreeNodeVECTOR</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ff079237e9726291f48f7429bc97a3ad"></a><!-- doxytag: member="BTreeFile::BnPtrIter" ref="ff079237e9726291f48f7429bc97a3ad" args="" -->
typedef std::vector<br class="typebreak">
&lt; BTreeNodePtr &gt;::iterator&nbsp;</td><td class="memItemRight" valign="bottom"><b>BnPtrIter</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="c84b666e8b3083625a71371825583863"></a><!-- doxytag: member="BTreeFile::SDBCursor" ref="c84b666e8b3083625a71371825583863" args="" -->
typedef std::pair<br class="typebreak">
&lt; BTreeNodePtr, size_t &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><b>SDBCursor</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="50d1379e8f22b810c4c53c34072db39c"></a><!-- doxytag: member="BTreeFile::DataTypePtr" ref="50d1379e8f22b810c4c53c34072db39c" args="" -->
typedef intrusive_ptr&lt; PtrObj<br class="typebreak">
&lt; DataType, LockType, Alloc &gt; &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><b>DataTypePtr</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ee29e8d1f6bb9700d852eb1fa914491b"></a><!-- doxytag: member="BTreeFile::DataTypeVECTOR" ref="ee29e8d1f6bb9700d852eb1fa914491b" args="" -->
typedef std::vector&lt; DataTypePtr &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><b>DataTypeVECTOR</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="1cefa5c1f36a97524f0be807a7882813"></a><!-- doxytag: member="BTreeFile::BIT" ref="1cefa5c1f36a97524f0be807a7882813" args="" -->
typedef std::vector<br class="typebreak">
&lt; BTreeNodePtr &gt;::iterator&nbsp;</td><td class="memItemRight" valign="bottom"><b>BIT</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="8fc5e3e778b95fc3313ab4680c2e895c"></a><!-- doxytag: member="BTreeFile::DIT" ref="8fc5e3e778b95fc3313ab4680c2e895c" args="" -->
typedef std::vector<br class="typebreak">
&lt; DataTypePtr &gt;::iterator&nbsp;</td><td class="memItemRight" valign="bottom"><b>DIT</b></td></tr>

<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBTreeFile.html#5609875a43e3c7e70229ac4215aafaff">BTreeFile</a> (const std::string &amp;fileName=&quot;sequentialdb.dat&quot;)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">constructor  <a href="#5609875a43e3c7e70229ac4215aafaff"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBTreeFile.html#76116d6e74ebdd94b641e60466454da5">setDegree</a> (int degree)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBTreeFile.html#b158c5e0ae96fd9cfb74813f984c1117">setPageSize</a> (size_t maxDataSize)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">set tha pageSize.  <a href="#b158c5e0ae96fd9cfb74813f984c1117"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="caec90f215e9695158269c82364d735b"></a><!-- doxytag: member="BTreeFile::setOverFlowPageSize" ref="caec90f215e9695158269c82364d735b" args="(size_t overFlowSize)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBTreeFile.html#caec90f215e9695158269c82364d735b">setOverFlowPageSize</a> (size_t overFlowSize)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">set size for overflow page. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBTreeFile.html#5a758e56495e400540e2829601e06de7">setCacheSize</a> (size_t sz)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="77fbd3babf6b5c990022c23569bb8495"></a><!-- doxytag: member="BTreeFile::getFileName" ref="77fbd3babf6b5c990022c23569bb8495" args="() const " -->
std::string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBTreeFile.html#77fbd3babf6b5c990022c23569bb8495">getFileName</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">return the <a class="el" href="classfile.html" title="Defines interface of file.">file</a> name of the SequentialDB <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBTreeFile.html#dbbf4c18dcccd9f9d231a5d546ff4fe6">open</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">open the database.  <a href="#dbbf4c18dcccd9f9d231a5d546ff4fe6"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBTreeFile.html#1602f96ee8ffe4db45f563b7eaef1a17">close</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">close the database.  <a href="#1602f96ee8ffe4db45f563b7eaef1a17"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="e0579ea1ac46a4179aa641d61c7ac890"></a><!-- doxytag: member="BTreeFile::del" ref="e0579ea1ac46a4179aa641d61c7ac890" args="(const KeyType &amp;key)" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBTreeFile.html#e0579ea1ac46a4179aa641d61c7ac890">del</a> (const KeyType &amp;key)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">del an item from the database <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="499c91e3aacf1d7037dcf16321fb8f5f"></a><!-- doxytag: member="BTreeFile::insert" ref="499c91e3aacf1d7037dcf16321fb8f5f" args="(const DataType &amp;rec)" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBTreeFile.html#499c91e3aacf1d7037dcf16321fb8f5f">insert</a> (const DataType &amp;rec)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">insert an item. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="013fd27ea98d9b7a91a82adebfa81c63"></a><!-- doxytag: member="BTreeFile::insert" ref="013fd27ea98d9b7a91a82adebfa81c63" args="(const KeyType &amp;key, const ValueType &amp;value)" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBTreeFile.html#013fd27ea98d9b7a91a82adebfa81c63">insert</a> (const KeyType &amp;key, const ValueType &amp;value)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">insert an item. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="4ac312ccea4a625f22067e72300bb46d"></a><!-- doxytag: member="BTreeFile::find" ref="4ac312ccea4a625f22067e72300bb46d" args="(const KeyType &amp;key)" -->
ValueType *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBTreeFile.html#4ac312ccea4a625f22067e72300bb46d">find</a> (const KeyType &amp;key)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">find an item given a key. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="60b7d0a808434cf7e6133597564068c7"></a><!-- doxytag: member="BTreeFile::get" ref="60b7d0a808434cf7e6133597564068c7" args="(const KeyType &amp;key, ValueType &amp;value)" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>get</b> (const KeyType &amp;key, ValueType &amp;value)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="9ea7b759915249cdc8d4b1ed22f445f9"></a><!-- doxytag: member="BTreeFile::find" ref="9ea7b759915249cdc8d4b1ed22f445f9" args="(const KeyType &amp;key) const " -->
const ValueType *&nbsp;</td><td class="memItemRight" valign="bottom"><b>find</b> (const KeyType &amp;key) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="c0133f9c22ff22f0bb9c64aded50161d"></a><!-- doxytag: member="BTreeFile::update" ref="c0133f9c22ff22f0bb9c64aded50161d" args="(const KeyType &amp;key, const ValueType &amp;val)" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBTreeFile.html#c0133f9c22ff22f0bb9c64aded50161d">update</a> (const KeyType &amp;key, const ValueType &amp;val)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">updata an item with given key, if it not exist, insert it directly. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="65845fcc4fd01a769dcf74ac35e233f1"></a><!-- doxytag: member="BTreeFile::update" ref="65845fcc4fd01a769dcf74ac35e233f1" args="(const DataType &amp;rec)" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBTreeFile.html#65845fcc4fd01a769dcf74ac35e233f1">update</a> (const DataType &amp;rec)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">updata an item with given key, if it not exist, insert it directly. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="86b258ecee50f2c59e8483750e32aec6"></a><!-- doxytag: member="BTreeFile::num_items" ref="86b258ecee50f2c59e8483750e32aec6" args="()" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBTreeFile.html#86b258ecee50f2c59e8483750e32aec6">num_items</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">get the number of the items. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="b2ec25ed3809699f44bb5a723e53e94e"></a><!-- doxytag: member="BTreeFile::get" ref="b2ec25ed3809699f44bb5a723e53e94e" args="(const KeyType &amp;key, DataType &amp;rec)" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBTreeFile.html#b2ec25ed3809699f44bb5a723e53e94e">get</a> (const KeyType &amp;key, DataType &amp;rec)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">get an item by its key. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="45d39b668e269770ff9402628067a973"></a><!-- doxytag: member="BTreeFile::get" ref="45d39b668e269770ff9402628067a973" args="(const SDBCursor &amp;locn, DataType &amp;rec)" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBTreeFile.html#45d39b668e269770ff9402628067a973">get</a> (const SDBCursor &amp;locn, DataType &amp;rec)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">get an item from given Locn. * <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="1771c662eafbb8d90d945659dcdc9ffd"></a><!-- doxytag: member="BTreeFile::get" ref="1771c662eafbb8d90d945659dcdc9ffd" args="(const SDBCursor &amp;locn, KeyType &amp;key, ValueType &amp;value)" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBTreeFile.html#1771c662eafbb8d90d945659dcdc9ffd">get</a> (const SDBCursor &amp;locn, KeyType &amp;key, ValueType &amp;value)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">get an item from given Locn. * <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="b375e1166dd179b0e6f54c2daff7ae91"></a><!-- doxytag: member="BTreeFile::get_first_locn" ref="b375e1166dd179b0e6f54c2daff7ae91" args="()" -->
SDBCursor&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBTreeFile.html#b375e1166dd179b0e6f54c2daff7ae91">get_first_locn</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">get the cursor of the first item. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="dbd89f1e470008e7a008b22a99c9e0b5"></a><!-- doxytag: member="BTreeFile::seq" ref="dbd89f1e470008e7a008b22a99c9e0b5" args="(SDBCursor &amp;locn, DataType &amp;rec, ESeqDirection sdir=ESD_FORWARD)" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBTreeFile.html#dbd89f1e470008e7a008b22a99c9e0b5">seq</a> (SDBCursor &amp;locn, DataType &amp;rec, ESeqDirection sdir=ESD_FORWARD)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">get the next or prev item. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="0fb8cd6989e717ddefcd9514657c708b"></a><!-- doxytag: member="BTreeFile::getNext" ref="0fb8cd6989e717ddefcd9514657c708b" args="(const KeyType &amp;key)" -->
KeyType&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBTreeFile.html#0fb8cd6989e717ddefcd9514657c708b">getNext</a> (const KeyType &amp;key)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">given a key, get next key <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="5b2991be9d5c88ae1b269572e6ee2747"></a><!-- doxytag: member="BTreeFile::getPrev" ref="5b2991be9d5c88ae1b269572e6ee2747" args="(const KeyType &amp;key)" -->
KeyType&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBTreeFile.html#5b2991be9d5c88ae1b269572e6ee2747">getPrev</a> (const KeyType &amp;key)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">given a key, get next key <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="23afa194f796512b34c002af01dc25a8"></a><!-- doxytag: member="BTreeFile::flush" ref="23afa194f796512b34c002af01dc25a8" args="()" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBTreeFile.html#23afa194f796512b34c002af01dc25a8">flush</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">write all the items in memory to <a class="el" href="classfile.html" title="Defines interface of file.">file</a>. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="3efffc668457bd1d85a08bef461731b9"></a><!-- doxytag: member="BTreeFile::commit" ref="3efffc668457bd1d85a08bef461731b9" args="()" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBTreeFile.html#3efffc668457bd1d85a08bef461731b9">commit</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">write back the dirypages <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBTreeFile.html#005fb40d2dbb29e75ef0a0a7a4faa71d">display</a> (std::ostream &amp;os=std::cout, bool onlyheader=true)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">KeyType&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBTreeFile.html#05829fd2f39c24fe36b5a3a395437de9">getNearest</a> (const KeyType &amp;key)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="8fca5f21802218f0a654e1c70e51d193"></a><!-- doxytag: member="BTreeFile::search" ref="8fca5f21802218f0a654e1c70e51d193" args="(const KeyType &amp;key)" -->
SDBCursor&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBTreeFile.html#8fca5f21802218f0a654e1c70e51d193">search</a> (const KeyType &amp;key)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">External method that searches for elements that match the given key. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="f175ce31694ff970ef09e90a29358770"></a><!-- doxytag: member="BTreeFile::search" ref="f175ce31694ff970ef09e90a29358770" args="(const KeyType &amp;key, SDBCursor &amp;locn)" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>search</b> (const KeyType &amp;key, SDBCursor &amp;locn)</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
<h3>template&lt;typename KeyType, typename ValueType = NullType, typename LockType = NullLock, typename Alloc = std::allocator&lt;DataType&lt;KeyType,ValueType&gt; &gt;&gt;<br>
 class BTreeFile&lt; KeyType, ValueType, LockType, Alloc &gt;</h3>

<a class="el" href="classfile.html" title="Defines interface of file.">file</a> version of B tree. 
<p>
|----------------| | magic | |----------------| | minDegree | /then the order of the btree is 2*minDegree-1. |----------------| | pageSize | |----------------| | cacheSize | |----------------| | ..... | |----------------| | numItem | |----------------| | rootPos | |----------------| 
<p>Definition at line <a class="el" href="BTreeFile_8h-source.html#l00046">46</a> of file <a class="el" href="BTreeFile_8h-source.html">BTreeFile.h</a>.</p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="5609875a43e3c7e70229ac4215aafaff"></a><!-- doxytag: member="BTreeFile::BTreeFile" ref="5609875a43e3c7e70229ac4215aafaff" args="(const std::string &amp;fileName=&quot;sequentialdb.dat&quot;)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename KeyType , typename ValueType , typename LockType , typename Alloc &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classBTreeFile.html">BTreeFile</a>&lt; KeyType, ValueType, LockType, Alloc &gt;::<a class="el" href="classBTreeFile.html">BTreeFile</a>           </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>fileName</em> = <code>&quot;sequentialdb.dat&quot;</code>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
constructor 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>minDegree,default</em>&nbsp;</td><td>is 2, i.e the order is 3. </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="BTreeFile_8h-source.html#l00714">714</a> of file <a class="el" href="BTreeFile_8h-source.html">BTreeFile.h</a>.</p>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="1602f96ee8ffe4db45f563b7eaef1a17"></a><!-- doxytag: member="BTreeFile::close" ref="1602f96ee8ffe4db45f563b7eaef1a17" args="()" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename KeyType , typename ValueType  = NullType, typename LockType  = NullLock, typename Alloc  = std::allocator&lt;DataType&lt;KeyType,ValueType&gt; &gt;&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classBTreeFile.html">BTreeFile</a>&lt; KeyType, ValueType, LockType, Alloc &gt;::close           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
close the database. 
<p>
if we don't call it, it will be automately called in deconstructor 
<p>Definition at line <a class="el" href="BTreeFile_8h-source.html#l00131">131</a> of file <a class="el" href="BTreeFile_8h-source.html">BTreeFile.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="005fb40d2dbb29e75ef0a0a7a4faa71d"></a><!-- doxytag: member="BTreeFile::display" ref="005fb40d2dbb29e75ef0a0a7a4faa71d" args="(std::ostream &amp;os=std::cout, bool onlyheader=true)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename KeyType , typename ValueType  = NullType, typename LockType  = NullLock, typename Alloc  = std::allocator&lt;DataType&lt;KeyType,ValueType&gt; &gt;&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classBTreeFile.html">BTreeFile</a>&lt; KeyType, ValueType, LockType, Alloc &gt;::display           </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&nbsp;</td>
          <td class="paramname"> <em>os</em> = <code>std::cout</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>onlyheader</em> = <code>true</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
for debug. print the shape of the B tree. 
<p>Definition at line <a class="el" href="BTreeFile_8h-source.html#l00320">320</a> of file <a class="el" href="BTreeFile_8h-source.html">BTreeFile.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="05829fd2f39c24fe36b5a3a395437de9"></a><!-- doxytag: member="BTreeFile::getNearest" ref="05829fd2f39c24fe36b5a3a395437de9" args="(const KeyType &amp;key)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename KeyType , typename ValueType  = NullType, typename LockType  = NullLock, typename Alloc  = std::allocator&lt;DataType&lt;KeyType,ValueType&gt; &gt;&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">KeyType <a class="el" href="classBTreeFile.html">BTreeFile</a>&lt; KeyType, ValueType, LockType, Alloc &gt;::getNearest           </td>
          <td>(</td>
          <td class="paramtype">const KeyType &amp;&nbsp;</td>
          <td class="paramname"> <em>key</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
if the input key exists, just return itself, otherwise return the smallest existing key that bigger than it. 
<p>Definition at line <a class="el" href="BTreeFile_8h-source.html#l00329">329</a> of file <a class="el" href="BTreeFile_8h-source.html">BTreeFile.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="dbbf4c18dcccd9f9d231a5d546ff4fe6"></a><!-- doxytag: member="BTreeFile::open" ref="dbbf4c18dcccd9f9d231a5d546ff4fe6" args="()" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename KeyType , typename ValueType , typename LockType , typename Alloc &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classBTreeFile.html">BTreeFile</a>&lt; KeyType, ValueType, LockType, Alloc &gt;::open           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
open the database. 
<p>
Everytime we use the database, we mush open it first. 
<p>Definition at line <a class="el" href="BTreeFile_8h-source.html#l01178">1178</a> of file <a class="el" href="BTreeFile_8h-source.html">BTreeFile.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="5a758e56495e400540e2829601e06de7"></a><!-- doxytag: member="BTreeFile::setCacheSize" ref="5a758e56495e400540e2829601e06de7" args="(size_t sz)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename KeyType , typename ValueType  = NullType, typename LockType  = NullLock, typename Alloc  = std::allocator&lt;DataType&lt;KeyType,ValueType&gt; &gt;&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classBTreeFile.html">BTreeFile</a>&lt; KeyType, ValueType, LockType, Alloc &gt;::setCacheSize           </td>
          <td>(</td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>sz</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
We would peroidically flush the memory items, according to the cache Size. 
<p>Definition at line <a class="el" href="BTreeFile_8h-source.html#l00108">108</a> of file <a class="el" href="BTreeFile_8h-source.html">BTreeFile.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="76116d6e74ebdd94b641e60466454da5"></a><!-- doxytag: member="BTreeFile::setDegree" ref="76116d6e74ebdd94b641e60466454da5" args="(int degree)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename KeyType , typename ValueType  = NullType, typename LockType  = NullLock, typename Alloc  = std::allocator&lt;DataType&lt;KeyType,ValueType&gt; &gt;&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classBTreeFile.html">BTreeFile</a>&lt; KeyType, ValueType, LockType, Alloc &gt;::setDegree           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>degree</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
set the degree 
<p>Definition at line <a class="el" href="BTreeFile_8h-source.html#l00071">71</a> of file <a class="el" href="BTreeFile_8h-source.html">BTreeFile.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="b158c5e0ae96fd9cfb74813f984c1117"></a><!-- doxytag: member="BTreeFile::setPageSize" ref="b158c5e0ae96fd9cfb74813f984c1117" args="(size_t maxDataSize)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename KeyType , typename ValueType  = NullType, typename LockType  = NullLock, typename Alloc  = std::allocator&lt;DataType&lt;KeyType,ValueType&gt; &gt;&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classBTreeFile.html">BTreeFile</a>&lt; KeyType, ValueType, LockType, Alloc &gt;::setPageSize           </td>
          <td>(</td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>maxDataSize</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
set tha pageSize. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>maxDataSize</em>&nbsp;</td><td>if the size of DataType(binary) exceeds maxDataSize, overflowing accur. if we can predict it first, we can reduce the <a class="el" href="classfile.html" title="Defines interface of file.">file</a> space. </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="BTreeFile_8h-source.html#l00081">81</a> of file <a class="el" href="BTreeFile_8h-source.html">BTreeFile.h</a>.</p>

</div>
</div><p>
<hr>The documentation for this class was generated from the following file:<ul>
<li>/home/Kevin/izenelib/include/am/btree/<a class="el" href="BTreeFile_8h-source.html">BTreeFile.h</a></ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Thu Jun 11 14:08:10 2009 for iZENElib - A great library for text processing by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.7.1 </small></address>
</body>
</html>

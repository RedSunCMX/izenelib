<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>iZENElib - A great library for text processing: sdb_hash&lt; KeyType, ValueType, LockType &gt; Class Template Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>sdb_hash&lt; KeyType, ValueType, LockType &gt; Class Template Reference</h1><!-- doxytag: class="sdb_hash" --><!-- doxytag: inherits="AccessMethod" --><a class="el" href="classfile.html" title="Defines interface of file.">file</a> version of array hash using Cache-Conscious Collision Resolution.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="sdb__hash_8h-source.html">sdb_hash.h</a>&gt;</code>
<p>
<div class="dynheader">
Inheritance diagram for sdb_hash&lt; KeyType, ValueType, LockType &gt;:</div>
<div class="dynsection">

<p><center><img src="classsdb__hash.png" usemap="#sdb_hash< KeyType, ValueType, LockType >_map" border="0" alt=""></center>
<map name="sdb_hash< KeyType, ValueType, LockType >_map">
</map>
</div>

<p>
<a href="classsdb__hash-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Types</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="5968365ee85645ab1b3cdf20a080b96c"></a><!-- doxytag: member="sdb_hash::bucket_chain" ref="5968365ee85645ab1b3cdf20a080b96c" args="" -->
typedef <a class="el" href="classbucket__chain__.html">bucket_chain_</a>&lt; LockType &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><b>bucket_chain</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="99cf7f90f1aabe92eb592ab73cc34eeb"></a><!-- doxytag: member="sdb_hash::SDBCursor" ref="99cf7f90f1aabe92eb592ab73cc34eeb" args="" -->
typedef std::pair<br class="typebreak">
&lt; <a class="el" href="classbucket__chain__.html">bucket_chain</a> *, char * &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><b>SDBCursor</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="2af15a87cb82b406d6a79631a2f03431"></a><!-- doxytag: member="sdb_hash::DataType" ref="2af15a87cb82b406d6a79631a2f03431" args="" -->
typedef DataType&lt; KeyType, <br class="typebreak">
ValueType &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><b>DataType</b></td></tr>

<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsdb__hash.html#02cd69cf8f60ae7f8661b1499d49c453">sdb_hash</a> (const string &amp;fileName=&quot;sdb_hash.dat&quot;)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsdb__hash.html#607bf8eee5de43ee297a5e7ef7c0f56d">~sdb_hash</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsdb__hash.html#e56dbe504c8ae570e59a0571f8099b19">setBucketSize</a> (size_t bucketSize)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">set bucket size of fileHeader  <a href="#e56dbe504c8ae570e59a0571f8099b19"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsdb__hash.html#50342daffbd37c85755e4f00f11fdf95">setDegree</a> (size_t dpow)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsdb__hash.html#f6a720d37fabe2b8a8e8bfcd161c2663">setCacheSize</a> (size_t cacheSize)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="18d959e4e8bd201f362b8262f6e37716"></a><!-- doxytag: member="sdb_hash::getFileName" ref="18d959e4e8bd201f362b8262f6e37716" args="() const " -->
std::string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsdb__hash.html#18d959e4e8bd201f362b8262f6e37716">getFileName</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">return the <a class="el" href="classfile.html" title="Defines interface of file.">file</a> name of the SequentialDB <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsdb__hash.html#17c82560d424f1d3519e0b4788fd8ef2">insert</a> (const DataType &amp;dat)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsdb__hash.html#4cd4dcd9d599a843b63d7dda5275131f">insert</a> (const KeyType &amp;key, const ValueType &amp;value)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">ValueType *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsdb__hash.html#9f39e15dd1c45b2b78b508df26c69568">find</a> (const KeyType &amp;key)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="bd27b5d38ef142e6f2a89733a1213a64"></a><!-- doxytag: member="sdb_hash::get" ref="bd27b5d38ef142e6f2a89733a1213a64" args="(const KeyType &amp;key, ValueType &amp;value)" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>get</b> (const KeyType &amp;key, ValueType &amp;value)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsdb__hash.html#a6ada730f03769b29c7c2e71d97fcd14">del</a> (const KeyType &amp;key)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsdb__hash.html#01a9c2ad383dac61d5e6ff3e20841689">update</a> (const DataType &amp;dat)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsdb__hash.html#d89de45c4ed1d5937fd22745e2a61f20">update</a> (const KeyType &amp;key, const ValueType &amp;value)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">SDBCursor&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsdb__hash.html#3594271208cb8aa10beca9f9f16fddd6">search</a> (const KeyType &amp;key)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsdb__hash.html#c229c71b533a2d90941568e6449801db">search</a> (const KeyType &amp;key, SDBCursor &amp;locn)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">SDBCursor&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsdb__hash.html#18aa637624e610e99727e368f750cef5">get_first_locn</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="08c49219bfad42f63c2c86f4b180959a"></a><!-- doxytag: member="sdb_hash::get" ref="08c49219bfad42f63c2c86f4b180959a" args="(const SDBCursor &amp;locn, KeyType &amp;key, ValueType &amp;value)" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>get</b> (const SDBCursor &amp;locn, KeyType &amp;key, ValueType &amp;value)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsdb__hash.html#7e501588a5161276baff02c6812aa147">get</a> (const SDBCursor &amp;locn, DataType &amp;rec)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsdb__hash.html#08fcfc39a846687aa28ecfa4f919f3bc">seq</a> (SDBCursor &amp;locn, DataType &amp;rec, ESeqDirection sdir=ESD_FORWARD)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">sequential access method  <a href="#08fcfc39a846687aa28ecfa4f919f3bc"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsdb__hash.html#0abd12e832bafd55d622f67497df47f9">num_items</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsdb__hash.html#323877d8e6fb88a7ac89ff7b361dfa5c">open</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsdb__hash.html#2ebf3f46da2bfa6249badf1d1af352f2">close</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsdb__hash.html#23b1c9a395291fbe24416d2e1c24d364">commit</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsdb__hash.html#6b9f4c1147c4702b863095a324b81cfb">flush</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsdb__hash.html#327527c4f96ea2115450d3b2d0d2ca0d">display</a> (std::ostream &amp;os=std::cout, bool onlyheader=true)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsdb__hash.html#23fdd1400cd2c1e7f922b16a8a372924">loadFactor</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">It displays how much space has been wasted in percentage after deleting or updates.  <a href="#23fdd1400cd2c1e7f922b16a8a372924"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Protected Types</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="df4db8b80f27271108713daee250bd2f"></a><!-- doxytag: member="sdb_hash::CacheIter" ref="df4db8b80f27271108713daee250bd2f" args="" -->
typedef multimap&lt; int, <br class="typebreak">
<a class="el" href="classbucket__chain__.html">bucket_chain</a> *, greater&lt; int &gt;<br class="typebreak">
 &gt;::iterator&nbsp;</td><td class="memItemRight" valign="bottom"><b>CacheIter</b></td></tr>

<tr><td colspan="2"><br><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="176b3804e4064ce796ee50c00c1cef68"></a><!-- doxytag: member="sdb_hash::entry_" ref="176b3804e4064ce796ee50c00c1cef68" args="" -->
<a class="el" href="classbucket__chain__.html">bucket_chain</a> **&nbsp;</td><td class="memItemRight" valign="bottom"><b>entry_</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="2d79c743b5b5001f7fabefe183d1ee87"></a><!-- doxytag: member="sdb_hash::bucketAddr" ref="2d79c743b5b5001f7fabefe183d1ee87" args="" -->
long *&nbsp;</td><td class="memItemRight" valign="bottom"><b>bucketAddr</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a9ff81bc12174dab813aa25b1ffb83fc"></a><!-- doxytag: member="sdb_hash::sh_cache_" ref="a9ff81bc12174dab813aa25b1ffb83fc" args="" -->
multimap&lt; int, <a class="el" href="classbucket__chain__.html">bucket_chain</a> <br class="typebreak">
*, greater&lt; int &gt; &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><b>sh_cache_</b></td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
<h3>template&lt;typename KeyType, typename ValueType, typename LockType = NullLock&gt;<br>
 class sdb_hash&lt; KeyType, ValueType, LockType &gt;</h3>

<a class="el" href="classfile.html" title="Defines interface of file.">file</a> version of array hash using Cache-Conscious Collision Resolution. 
<p>
<a class="el" href="classsdb__hash.html" title="file version of array hash using Cache-Conscious Collision Resolution.">sdb_hash</a> is built on array hash using Cache-Conscious Collision Resolution.<p>
For <a class="el" href="classfile.html" title="Defines interface of file.">file</a> version, there is a little different, each bucket is now a bucket_chain, and each bucket_chain hash fixed size. 
<p>Definition at line <a class="el" href="sdb__hash_8h-source.html#l00044">44</a> of file <a class="el" href="sdb__hash_8h-source.html">sdb_hash.h</a>.</p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="02cd69cf8f60ae7f8661b1499d49c453"></a><!-- doxytag: member="sdb_hash::sdb_hash" ref="02cd69cf8f60ae7f8661b1499d49c453" args="(const string &amp;fileName=&quot;sdb_hash.dat&quot;)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename KeyType , typename ValueType , typename LockType  = NullLock&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classsdb__hash.html">sdb_hash</a>&lt; KeyType, ValueType, LockType &gt;::<a class="el" href="classsdb__hash.html">sdb_hash</a>           </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&nbsp;</td>
          <td class="paramname"> <em>fileName</em> = <code>&quot;sdb_hash&lt;&nbsp;KeyType,&nbsp;ValueType,&nbsp;LockType&nbsp;&gt;.dat&quot;</code>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
constructor 
<p>Definition at line <a class="el" href="sdb__hash_8h-source.html#l00056">56</a> of file <a class="el" href="sdb__hash_8h-source.html">sdb_hash.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="607bf8eee5de43ee297a5e7ef7c0f56d"></a><!-- doxytag: member="sdb_hash::~sdb_hash" ref="607bf8eee5de43ee297a5e7ef7c0f56d" args="()" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename KeyType , typename ValueType , typename LockType  = NullLock&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classsdb__hash.html">sdb_hash</a>&lt; KeyType, ValueType, LockType &gt;::~<a class="el" href="classsdb__hash.html">sdb_hash</a>           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
deconstructor, <a class="el" href="classsdb__hash.html#2ebf3f46da2bfa6249badf1d1af352f2">close()</a> will also be called here. 
<p>Definition at line <a class="el" href="sdb__hash_8h-source.html#l00066">66</a> of file <a class="el" href="sdb__hash_8h-source.html">sdb_hash.h</a>.</p>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="2ebf3f46da2bfa6249badf1d1af352f2"></a><!-- doxytag: member="sdb_hash::close" ref="2ebf3f46da2bfa6249badf1d1af352f2" args="()" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename KeyType , typename ValueType , typename LockType  = NullLock&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classsdb__hash.html">sdb_hash</a>&lt; KeyType, ValueType, LockType &gt;::close           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
db should be closed after open, and it will automatically called in deconstuctor. 
<p>Definition at line <a class="el" href="sdb__hash_8h-source.html#l00632">632</a> of file <a class="el" href="sdb__hash_8h-source.html">sdb_hash.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="23b1c9a395291fbe24416d2e1c24d364"></a><!-- doxytag: member="sdb_hash::commit" ref="23b1c9a395291fbe24416d2e1c24d364" args="()" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename KeyType , typename ValueType , typename LockType  = NullLock&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classsdb__hash.html">sdb_hash</a>&lt; KeyType, ValueType, LockType &gt;::commit           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
write the dirty buckets to disk, not release the memory 
<p>Definition at line <a class="el" href="sdb__hash_8h-source.html#l00659">659</a> of file <a class="el" href="sdb__hash_8h-source.html">sdb_hash.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="a6ada730f03769b29c7c2e71d97fcd14"></a><!-- doxytag: member="sdb_hash::del" ref="a6ada730f03769b29c7c2e71d97fcd14" args="(const KeyType &amp;key)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename KeyType , typename ValueType , typename LockType  = NullLock&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classsdb__hash.html">sdb_hash</a>&lt; KeyType, ValueType, LockType &gt;::del           </td>
          <td>(</td>
          <td class="paramtype">const KeyType &amp;&nbsp;</td>
          <td class="paramname"> <em>key</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
delete an item 
<p>Definition at line <a class="el" href="sdb__hash_8h-source.html#l00236">236</a> of file <a class="el" href="sdb__hash_8h-source.html">sdb_hash.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="327527c4f96ea2115450d3b2d0d2ca0d"></a><!-- doxytag: member="sdb_hash::display" ref="327527c4f96ea2115450d3b2d0d2ca0d" args="(std::ostream &amp;os=std::cout, bool onlyheader=true)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename KeyType , typename ValueType , typename LockType  = NullLock&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classsdb__hash.html">sdb_hash</a>&lt; KeyType, ValueType, LockType &gt;::display           </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&nbsp;</td>
          <td class="paramname"> <em>os</em> = <code>std::cout</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>onlyheader</em> = <code>true</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
display the info of <a class="el" href="classsdb__hash.html" title="file version of array hash using Cache-Conscious Collision Resolution.">sdb_hash</a> 
<p>Definition at line <a class="el" href="sdb__hash_8h-source.html#l00702">702</a> of file <a class="el" href="sdb__hash_8h-source.html">sdb_hash.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="9f39e15dd1c45b2b78b508df26c69568"></a><!-- doxytag: member="sdb_hash::find" ref="9f39e15dd1c45b2b78b508df26c69568" args="(const KeyType &amp;key)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename KeyType , typename ValueType , typename LockType  = NullLock&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">ValueType* <a class="el" href="classsdb__hash.html">sdb_hash</a>&lt; KeyType, ValueType, LockType &gt;::find           </td>
          <td>(</td>
          <td class="paramtype">const KeyType &amp;&nbsp;</td>
          <td class="paramname"> <em>key</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
find an item, return pointer to the value. Note that, there will be memory leak if not delete the value 
<p>Definition at line <a class="el" href="sdb__hash_8h-source.html#l00194">194</a> of file <a class="el" href="sdb__hash_8h-source.html">sdb_hash.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="6b9f4c1147c4702b863095a324b81cfb"></a><!-- doxytag: member="sdb_hash::flush" ref="6b9f4c1147c4702b863095a324b81cfb" args="()" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename KeyType , typename ValueType , typename LockType  = NullLock&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classsdb__hash.html">sdb_hash</a>&lt; KeyType, ValueType, LockType &gt;::flush           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Write the dirty buckets to disk and also free up most of the memory. Note that, for efficieny, entry_[] is not freed up. 
<p>Definition at line <a class="el" href="sdb__hash_8h-source.html#l00681">681</a> of file <a class="el" href="sdb__hash_8h-source.html">sdb_hash.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="7e501588a5161276baff02c6812aa147"></a><!-- doxytag: member="sdb_hash::get" ref="7e501588a5161276baff02c6812aa147" args="(const SDBCursor &amp;locn, DataType &amp;rec)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename KeyType , typename ValueType , typename LockType  = NullLock&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classsdb__hash.html">sdb_hash</a>&lt; KeyType, ValueType, LockType &gt;::get           </td>
          <td>(</td>
          <td class="paramtype">const SDBCursor &amp;&nbsp;</td>
          <td class="paramname"> <em>locn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DataType &amp;&nbsp;</td>
          <td class="paramname"> <em>rec</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
get an item from given SDBCursor 
<p>Definition at line <a class="el" href="sdb__hash_8h-source.html#l00427">427</a> of file <a class="el" href="sdb__hash_8h-source.html">sdb_hash.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="18aa637624e610e99727e368f750cef5"></a><!-- doxytag: member="sdb_hash::get_first_locn" ref="18aa637624e610e99727e368f750cef5" args="()" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename KeyType , typename ValueType , typename LockType  = NullLock&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">SDBCursor <a class="el" href="classsdb__hash.html">sdb_hash</a>&lt; KeyType, ValueType, LockType &gt;::get_first_locn           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
get the SDBCursor of first item in the first not empty bucket. 
<p>Definition at line <a class="el" href="sdb__hash_8h-source.html#l00399">399</a> of file <a class="el" href="sdb__hash_8h-source.html">sdb_hash.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="4cd4dcd9d599a843b63d7dda5275131f"></a><!-- doxytag: member="sdb_hash::insert" ref="4cd4dcd9d599a843b63d7dda5275131f" args="(const KeyType &amp;key, const ValueType &amp;value)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename KeyType , typename ValueType , typename LockType  = NullLock&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classsdb__hash.html">sdb_hash</a>&lt; KeyType, ValueType, LockType &gt;::insert           </td>
          <td>(</td>
          <td class="paramtype">const KeyType &amp;&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const ValueType &amp;&nbsp;</td>
          <td class="paramname"> <em>value</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
insert an item in key/value pair 
<p>Definition at line <a class="el" href="sdb__hash_8h-source.html#l00125">125</a> of file <a class="el" href="sdb__hash_8h-source.html">sdb_hash.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="17c82560d424f1d3519e0b4788fd8ef2"></a><!-- doxytag: member="sdb_hash::insert" ref="17c82560d424f1d3519e0b4788fd8ef2" args="(const DataType &amp;dat)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename KeyType , typename ValueType , typename LockType  = NullLock&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classsdb__hash.html">sdb_hash</a>&lt; KeyType, ValueType, LockType &gt;::insert           </td>
          <td>(</td>
          <td class="paramtype">const DataType &amp;&nbsp;</td>
          <td class="paramname"> <em>dat</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
insert an item of DataType 
<p>Definition at line <a class="el" href="sdb__hash_8h-source.html#l00118">118</a> of file <a class="el" href="sdb__hash_8h-source.html">sdb_hash.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="23fdd1400cd2c1e7f922b16a8a372924"></a><!-- doxytag: member="sdb_hash::loadFactor" ref="23fdd1400cd2c1e7f922b16a8a372924" args="()" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename KeyType , typename ValueType , typename LockType  = NullLock&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classsdb__hash.html">sdb_hash</a>&lt; KeyType, ValueType, LockType &gt;::loadFactor           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
It displays how much space has been wasted in percentage after deleting or updates. 
<p>
when an item is deleted, we don't release its space in disk but set a flag that it have been deleted. And it will lead to low efficiency. Maybe we should dump it to another files when loadFactor are low. 
<p>Definition at line <a class="el" href="sdb__hash_8h-source.html#l00728">728</a> of file <a class="el" href="sdb__hash_8h-source.html">sdb_hash.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="0abd12e832bafd55d622f67497df47f9"></a><!-- doxytag: member="sdb_hash::num_items" ref="0abd12e832bafd55d622f67497df47f9" args="()" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename KeyType , typename ValueType , typename LockType  = NullLock&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classsdb__hash.html">sdb_hash</a>&lt; KeyType, ValueType, LockType &gt;::num_items           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
get the num of items 
<p>Definition at line <a class="el" href="sdb__hash_8h-source.html#l00559">559</a> of file <a class="el" href="sdb__hash_8h-source.html">sdb_hash.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="323877d8e6fb88a7ac89ff7b361dfa5c"></a><!-- doxytag: member="sdb_hash::open" ref="323877d8e6fb88a7ac89ff7b361dfa5c" args="()" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename KeyType , typename ValueType , typename LockType  = NullLock&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classsdb__hash.html">sdb_hash</a>&lt; KeyType, ValueType, LockType &gt;::open           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
db must be opened to be used. 
<p>Definition at line <a class="el" href="sdb__hash_8h-source.html#l00567">567</a> of file <a class="el" href="sdb__hash_8h-source.html">sdb_hash.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="c229c71b533a2d90941568e6449801db"></a><!-- doxytag: member="sdb_hash::search" ref="c229c71b533a2d90941568e6449801db" args="(const KeyType &amp;key, SDBCursor &amp;locn)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename KeyType , typename ValueType , typename LockType  = NullLock&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classsdb__hash.html">sdb_hash</a>&lt; KeyType, ValueType, LockType &gt;::search           </td>
          <td>(</td>
          <td class="paramtype">const KeyType &amp;&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SDBCursor &amp;&nbsp;</td>
          <td class="paramname"> <em>locn</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
another search function, flushCache_() will be called at the beginning, 
<p>Definition at line <a class="el" href="sdb__hash_8h-source.html#l00331">331</a> of file <a class="el" href="sdb__hash_8h-source.html">sdb_hash.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="3594271208cb8aa10beca9f9f16fddd6"></a><!-- doxytag: member="sdb_hash::search" ref="3594271208cb8aa10beca9f9f16fddd6" args="(const KeyType &amp;key)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename KeyType , typename ValueType , typename LockType  = NullLock&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">SDBCursor <a class="el" href="classsdb__hash.html">sdb_hash</a>&lt; KeyType, ValueType, LockType &gt;::search           </td>
          <td>(</td>
          <td class="paramtype">const KeyType &amp;&nbsp;</td>
          <td class="paramname"> <em>key</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
search an item<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>SDBCursor </dd></dl>

<p>Definition at line <a class="el" href="sdb__hash_8h-source.html#l00320">320</a> of file <a class="el" href="sdb__hash_8h-source.html">sdb_hash.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="08fcfc39a846687aa28ecfa4f919f3bc"></a><!-- doxytag: member="sdb_hash::seq" ref="08fcfc39a846687aa28ecfa4f919f3bc" args="(SDBCursor &amp;locn, DataType &amp;rec, ESeqDirection sdir=ESD_FORWARD)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename KeyType , typename ValueType , typename LockType  = NullLock&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classsdb__hash.html">sdb_hash</a>&lt; KeyType, ValueType, LockType &gt;::seq           </td>
          <td>(</td>
          <td class="paramtype">SDBCursor &amp;&nbsp;</td>
          <td class="paramname"> <em>locn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DataType &amp;&nbsp;</td>
          <td class="paramname"> <em>rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ESeqDirection&nbsp;</td>
          <td class="paramname"> <em>sdir</em> = <code>ESD_FORWARD</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
sequential access method 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>locn</em>&nbsp;</td><td>is the current SDBCursor, and will replaced next SDBCursor when route finished. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>rec</em>&nbsp;</td><td>is the item in SDBCursor locn. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>sdir</em>&nbsp;</td><td>is sequential access direction, for hash is unordered, we only implement forward case. </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="sdb__hash_8h-source.html#l00470">470</a> of file <a class="el" href="sdb__hash_8h-source.html">sdb_hash.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="e56dbe504c8ae570e59a0571f8099b19"></a><!-- doxytag: member="sdb_hash::setBucketSize" ref="e56dbe504c8ae570e59a0571f8099b19" args="(size_t bucketSize)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename KeyType , typename ValueType , typename LockType  = NullLock&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classsdb__hash.html">sdb_hash</a>&lt; KeyType, ValueType, LockType &gt;::setBucketSize           </td>
          <td>(</td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>bucketSize</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
set bucket size of fileHeader 
<p>
if not called use default size 8192 
<p>Definition at line <a class="el" href="sdb__hash_8h-source.html#l00075">75</a> of file <a class="el" href="sdb__hash_8h-source.html">sdb_hash.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="f6a720d37fabe2b8a8e8bfcd161c2663"></a><!-- doxytag: member="sdb_hash::setCacheSize" ref="f6a720d37fabe2b8a8e8bfcd161c2663" args="(size_t cacheSize)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename KeyType , typename ValueType , typename LockType  = NullLock&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classsdb__hash.html">sdb_hash</a>&lt; KeyType, ValueType, LockType &gt;::setCacheSize           </td>
          <td>(</td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>cacheSize</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
set cache size, if not called use default size 100000 
<p>Definition at line <a class="el" href="sdb__hash_8h-source.html#l00101">101</a> of file <a class="el" href="sdb__hash_8h-source.html">sdb_hash.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="50342daffbd37c85755e4f00f11fdf95"></a><!-- doxytag: member="sdb_hash::setDegree" ref="50342daffbd37c85755e4f00f11fdf95" args="(size_t dpow)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename KeyType , typename ValueType , typename LockType  = NullLock&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classsdb__hash.html">sdb_hash</a>&lt; KeyType, ValueType, LockType &gt;::setDegree           </td>
          <td>(</td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>dpow</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
set directory size if fileHeader<p>
if not called use default size 4096 
<p>Definition at line <a class="el" href="sdb__hash_8h-source.html#l00090">90</a> of file <a class="el" href="sdb__hash_8h-source.html">sdb_hash.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="d89de45c4ed1d5937fd22745e2a61f20"></a><!-- doxytag: member="sdb_hash::update" ref="d89de45c4ed1d5937fd22745e2a61f20" args="(const KeyType &amp;key, const ValueType &amp;value)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename KeyType , typename ValueType , typename LockType  = NullLock&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classsdb__hash.html">sdb_hash</a>&lt; KeyType, ValueType, LockType &gt;::update           </td>
          <td>(</td>
          <td class="paramtype">const KeyType &amp;&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const ValueType &amp;&nbsp;</td>
          <td class="paramname"> <em>value</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
update an item by key/value pair 
<p>Definition at line <a class="el" href="sdb__hash_8h-source.html#l00275">275</a> of file <a class="el" href="sdb__hash_8h-source.html">sdb_hash.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="01a9c2ad383dac61d5e6ff3e20841689"></a><!-- doxytag: member="sdb_hash::update" ref="01a9c2ad383dac61d5e6ff3e20841689" args="(const DataType &amp;dat)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename KeyType , typename ValueType , typename LockType  = NullLock&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classsdb__hash.html">sdb_hash</a>&lt; KeyType, ValueType, LockType &gt;::update           </td>
          <td>(</td>
          <td class="paramtype">const DataType &amp;&nbsp;</td>
          <td class="paramname"> <em>dat</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
update an item through DataType data 
<p>Definition at line <a class="el" href="sdb__hash_8h-source.html#l00267">267</a> of file <a class="el" href="sdb__hash_8h-source.html">sdb_hash.h</a>.</p>

</div>
</div><p>
<hr>The documentation for this class was generated from the following file:<ul>
<li>/home/Kevin/izenelib/include/am/sdb_hash/<a class="el" href="sdb__hash_8h-source.html">sdb_hash.h</a></ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Thu Jun 11 13:16:38 2009 for iZENElib - A great library for text processing by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.7.1 </small></address>
</body>
</html>
